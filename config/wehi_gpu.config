process {
    withLabel:train {
        queue = "gpuq"
        conda = "${projectDir}/envs/environment-gpu.yml"
        cpus = 24
        clusterOptions = "--gres=gpu:1 --constraint=Ampere" // sometimes fails on P100s
    }
    withLabel:report {
        conda = "${projectDir}/envs/environment-gpu.yml"
    }
}

params {
    classifier = "Xgboost-gpu"
}

conda.useMicromamba = true